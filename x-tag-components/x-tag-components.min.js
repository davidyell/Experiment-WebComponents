if(!(document.register||{}).__polyfill__){(function(){var g=window,B=document,o={},p=[],d=false,v=g.MutationObserver||g.WebKitMutationObserver||g.MozMutationObserver,y=B.createElement,b=function(F,E){if(!o[F]){p.push(F)}E=E||{};if(E.prototype&&!("setAttribute" in E.prototype)){throw new TypeError("Unexpected prototype for "+F+" element - custom element prototypes must inherit from the Element interface")}var G=E.prototype||Object.create((g.HTMLSpanElement||g.HTMLElement).prototype),D=E.lifecycle||{},C=o[F]={constructor:function(){return B.createElement(F)},_prototype:B.__proto__?null:j(G),prototype:G,fragment:E.fragment||B.createDocumentFragment(),lifecycle:{created:D.created||function(){},removed:D.removed||function(){},inserted:D.inserted||function(){},attributeChanged:D.attributeChanged||function(){}}};C.constructor.prototype=C.prototype;if(d){h(B,F).forEach(function(H){i(H,true)})}return C.constructor};function j(E){var D={},F=Object.getOwnPropertyNames(E),C=F.length;if(C){while(C--){D[F[C]]=Object.getOwnPropertyDescriptor(E,F[C])}}return D}function f(C){return({}).toString.call(C).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function x(E,D){var C=x[D||f(E)];return C?C(E):E}x.object=function(E){var D={};for(var C in E){D[C]=x(E[C])}return D};x.array=function(D){var C=D.length,E=new Array(C);while(C--){E[C]=x(D[C])}return E};var q=["number","boolean","string","function"];function t(C){return q.indexOf(typeof C)==-1?Array.prototype.slice.call(C,0):[C]}function h(D,C){return D&&C&&C.length?t(D.querySelectorAll(C)):[]}function l(C){return C.nodeName?o[C.nodeName.toLowerCase()]:false}function k(C,F){var E=C.nextSibling,D=C.parentNode,H=B.createDocumentFragment(),G=F.call(H.appendChild(C),H)||C;if(E){D.insertBefore(G,E)}else{D.appendChild(G)}}function i(F,E){if(!F._elementupgraded&&!F._suppressObservers){var C=l(F);if(C){var D=F;if(E){F._suppressObservers=true;k(F,function(){D=y.call(B,F.nodeName);D._suppressObservers=true;while(F.firstChild){D.appendChild(F.firstChild)}var H=F.attributes.length;while(H--){var G=F.attributes[H];c.call(D,G.name,G.value)}return D})}if(B.__proto__){D.__proto__=C.prototype}else{Object.defineProperties(D,C._prototype)}D.constructor=C.constructor;D._elementupgraded=true;if(!v){delete D._suppressObservers}C.lifecycle.created.call(D,C.prototype);if(E){A(F,"elementreplace",{upgrade:D},{bubbles:false})}A(D,"elementupgrade")}}}function e(D,E){var C=l(D);if(C){if(!D._elementupgraded){i(D,true)}else{if(D._suppressObservers){delete D._suppressObservers;return D}if(!D._suppressObservers&&B.documentElement.contains(D)){C.lifecycle.inserted.call(D)}n(D)}}else{n(D)}}function n(C){if(C.childNodes.length){h(C,p).forEach(function(D){if(!D._elementupgraded){i(D,true)}l(D).lifecycle.inserted.call(D)})}}function w(C){if(C._elementupgraded){if(C._suppressObservers){delete C._suppressObservers}else{l(C).lifecycle.removed.call(C);if(C.childNodes.length){h(C,p).forEach(function(D){w(D)})}}}}function m(C,E,D){if(!C._records){C._records={inserted:[],removed:[]};if(v){C._observer=new v(function(F){s(C,F)});C._observer.observe(C,{subtree:true,childList:true,attributes:!true,characterData:false})}else{["Inserted","Removed"].forEach(function(F){C.addEventListener("DOMNode"+F,function(G){G._mutation=true;C._records[F.toLowerCase()].forEach(function(H){H(G.target,G)})},false)})}}if(C._records[E].indexOf(D)==-1){C._records[E].push(D)}}function u(C,E,D){var F=C._records;if(F&&D){F[E].splice(F[E].indexOf(D),1)}else{F[E]=[]}}function s(D,C){var E={added:[],removed:[]};C.forEach(function(F){F._mutation=true;for(var K in E){var I=D._records[(K=="added")?"inserted":"removed"],G=F[K+"Nodes"],J=G.length;for(var H=0;H<J&&E[K].indexOf(G[H])==-1;H++){E[K].push(G[H]);I.forEach(function(L){L(G[H],F)})}}})}function A(D,E,G,C){C=C||{};var F=B.createEvent("Event");F.initEvent(E,"bubbles" in C?C.bubbles:true,"cancelable" in C?C.cancelable:true);for(var H in G){F[H]=G[H]}D.dispatchEvent(F)}var z=!B.register;if(z){B.register=b;B.createElement=function r(C){var D=y.call(B,C);i(D);return D};var c=Element.prototype.setAttribute;Element.prototype.setAttribute=function(D,G,F){var C=l(this),E=this.getAttribute(D);c.call(this,D,G);if(C&&E!=this.getAttribute(D)){C.lifecycle.attributeChanged.call(this,D,G,E,F)}};var a=function(){m(B.documentElement,"inserted",e);m(B.documentElement,"removed",w);if(p.length){h(B,p).forEach(function(C){i(C,true)})}d=true;A(B,"DOMComponentsLoaded");A(B,"__DOMComponentsLoaded__")};if(B.readyState=="complete"){a()}else{B.addEventListener(B.readyState=="interactive"?"readystatechange":"DOMContentLoaded",a)}}B.register.__polyfill__={query:h,clone:x,typeOf:f,toArray:t,fireEvent:A,manipulate:k,addObserver:m,removeObserver:u,observerElement:B.documentElement,parseMutations:s,_inserted:e,_createElement:y,_polyfilled:z}})()}(function(){var g=window,m=document,n=/(\w+(?:\([^\)]+\))?)/g,a=/(\w*)(?:\(([^\)]*)\))?/,h=/(\d+)/g,i={action:function(p,o){return p.value.match(h).indexOf(String(o.keyCode))>-1==(p.name=="keypass")}},k=function(p,o){if(p.listener.touched){return p.listener.touched=false}else{if(o.type.match("touch")){p.listener.touched=true}}},l=function(p){var o=p=="over";return{base:"OverflowEvent" in g?"overflowchanged":p+"flow",condition:function(r,q){q.flow=p;return q.type==(p+"flow")||((q.orient===0&&q.horizontalOverflow==o)||(q.orient==1&&q.verticalOverflow==o)||(q.orient==2&&q.horizontalOverflow==o&&q.verticalOverflow==o))}}},e=(function(){var o=g.getComputedStyle(m.documentElement,""),p=(Array.prototype.slice.call(o).join("").match(/-(moz|webkit|ms)-/)||(o.OLink===""&&["","o"]))[1],q=("WebKit|Moz|MS|O").match(new RegExp("("+p+")","i"))[1];return{dom:q,lowercase:p,css:"-"+p+"-",js:p[0].toUpperCase()+p.substr(1)}})(),d=Element.prototype.matchesSelector||Element.prototype[e.lowercase+"MatchesSelector"];function c(q,o,r){var p=j.typeOf(r);if(p=="object"&&j.typeOf(q[o])=="object"){j.merge(q[o],r)}else{q[o]=j.clone(r,p)}return q}function f(t,q,s){var r={};for(var u in s){r[u.split(":")[0]]=true}for(var p in q){if(!r[p.split(":")[0]]){s[p]=q[p]}}}function b(o){o.mixins.forEach(function(q){var p=j.mixins[q];for(var r in p){switch(r){case"lifecycle":case"methods":f(r,p[r],o[r]);break;case"accessors":case"prototype":for(var s in p[r]){f(s,p[r],o.accessors)}break;case"events":break}}});return o}var j={tags:{},defaultOptions:{pseudos:[],mixins:[],events:{},methods:{},accessors:{},lifecycle:{},prototype:{xtag:{get:function(){return this.__xtag__?this.__xtag__:(this.__xtag__={data:{}})}}}},register:function(p,y){var w=p.toLowerCase();var A=j.tags[w]=b(j.merge({},j.defaultOptions,y));j.attributeSetters[w]={};for(var v in A.events){A.events[v]=j.parseEvent(v,A.events[v])}for(var v in A.lifecycle){A.lifecycle[v.split(":")[0]]=j.applyPseudos(v,A.lifecycle[v],A.pseudos)}for(var v in A.methods){A.prototype[v.split(":")[0]]={value:j.applyPseudos(v,A.methods[v],A.pseudos)}}for(var o in A.accessors){A.prototype[o]={};var r=A.accessors[o];for(var v in r){var x=v.split(":"),u=x[0];if(u=="get"||u=="set"){x[0]=o;A.prototype[o][u]=j.applyPseudos(x.join(":"),r[v],A.pseudos)}else{A.prototype[o][v]=r[v]}}}var t=A.lifecycle.attributeChanged;A.lifecycle.attributeChanged=function(z,D,C,B){var E=j.attributeSetters[w][z.toLowerCase()];if(!B&&E){this[E]=D}return t?t.apply(this,j.toArray(arguments)):null};var q=A.lifecycle.created;A.lifecycle.created=function(){var z=this;A.pseudos.forEach(function(B){B.onAdd.call(z,B)});j.addEvents(this,A.events);A.mixins.forEach(function(B){if(j.mixins[B].events){j.addEvents(z,j.mixins[B].events)}});return q?q.apply(this,j.toArray(arguments)):null};var s=m.register(w,{prototype:"nodeName" in A.prototype?A.prototype:Object.create((g.HTMLSpanElement||g.HTMLElement).prototype,A.prototype),lifecycle:A.lifecycle});return s},mixins:{},prefix:e,attributeSetters:{},captureEvents:["focus","blur"],customEvents:{overflow:l("over"),underflow:l("under"),animationstart:{base:["animationstart","oAnimationStart","MSAnimationStart","webkitAnimationStart"]},transitionend:{base:["transitionend","oTransitionEnd","MSTransitionEnd","webkitTransitionEnd"]},tap:{base:["click","touchend"],condition:k},tapstart:{base:["mousedown","touchstart"],condition:k},tapend:{base:["mouseup","touchend"],condition:k},tapenter:{base:["mouseover","touchenter"],condition:k},tapleave:{base:["mouseout","touchleave"],condition:k},tapmove:{base:["mousemove","touchmove"],condition:k}},pseudos:{keypass:i,keyfail:i,delegate:{action:function(p,o){var q=j.query(this,p.value).filter(function(r){return r==o.target||r.contains?r.contains(o.target):false})[0];return q?p.listener=p.listener.bind(q):false}},preventable:{action:function(p,o){return !o.defaultPrevented}},attribute:{onAdd:function(p){var o=(p.value||p.key.split(":")[0]).toLowerCase();j.attributeSetters[this.nodeName.toLowerCase()][o]=p.key.split(":")[0]},action:function(p,o){this.setAttribute(p.value||p.key.split(":")[0],o,true)}}},wrap:function(o,p){return function(){var q=j.toArray(arguments),r=o.apply(this,q);return r===false?false:p.apply(this,typeof r!="undefined"?j.toArray(r):q)}},merge:function(u,q,p){if(j.typeOf(q)=="string"){return c(u,q,p)}for(var t=1,o=arguments.length;t<o;t++){var r=arguments[t];for(var s in r){c(u,s,r[s])}}return u},skipTransition:function(o,p,r){var q=e.js+"TransitionDuration";o.style[q]="0.001s";p.call(r);j.addEvent(o,"transitionend",function(){o.style[q]=""})},requestFrame:(function(){var o=g.requestAnimationFrame||g[e.lowercase+"RequestAnimationFrame"]||function(p){return g.setTimeout(p,20)};return function(p){return o.call(g,p)}})(),matchSelector:function(p,o){return d.call(p,o)},innerHTML:function(p,o){p.innerHTML=o;if(j._polyfilled){if(j.observerElement._observer){j.parseMutations(j.observerElement,j.observerElement._observer.takeRecords())}else{j._inserted(p)}}},hasClass:function(p,o){return p.className.split(" ").indexOf(o.trim())>-1},addClass:function(p,o){var q=p.className.trim().split(" ");o.trim().split(" ").forEach(function(r){if(!~q.indexOf(r)){q.push(r)}});p.className=q.join(" ").trim();return p},removeClass:function(q,o){var p=o.trim().split(" ");q.className=q.className.trim().split(" ").filter(function(r){return r&&!~p.indexOf(r)}).join(" ");return q},toggleClass:function(p,o){return j[j.hasClass(p,o)?"removeClass":"addClass"].call(null,p,o)},query:function(p,o){return j.toArray(p.querySelectorAll(o))},queryChildren:function(s,q){var t=s.id,r=s.id=t||"x_"+new Date().getTime(),p="#"+r+" > ";q=p+(q+"").replace(",",","+p,"g");var o=s.parentNode.querySelectorAll(q);if(!t){s.removeAttribute("id")}return j.toArray(o)},createFragment:function(q){var s=m.createDocumentFragment();if(q){var r=s.appendChild(m.createElement("div")),o=j.toArray(q.nodeName?arguments:!(r.innerHTML=q)||r.children),p=o.length;while(p--){s.insertBefore(o[p],r)}s.removeChild(r)}return s},applyPseudos:function(r,s,q){var t=s,v={};if(r.match(":")){var p=r.match(n),o=p.length;while(--o){p[o].replace(a,function(x,w,A){var z=v[o]=Object.create(j.pseudos[w]);z.key=r;z.name=w;z.value=A;if(!z){throw"pseudo not found: "+w}var y=t;t=function(){var B=j.toArray(arguments),C={key:r,name:w,value:A,listener:y};if(z.action&&z.action.apply(this,[C].concat(B))===false){return false}return C.listener.apply(this,B)};if(q&&z.onAdd){q.getAttribute?z.onAdd.call(q,z):q.push(z)}})}}for(var u in v){if(v[u].onCompiled){t=v[u].onCompiled(t,v[u])}}return t},parseEvent:function(q,p){var u=q.split(":"),s=function(){},o=u.shift(),r=j.merge({base:o,pseudos:"",_pseudos:[],onAdd:s,onRemove:s,condition:s},j.customEvents[o]||{});r.type=o+(r.pseudos.length?":"+r.pseudos:"")+(u.length?":"+u.join(":"):"");if(p){var t=j.applyPseudos(r.type,p,r._pseudos);r.listener=function(){var v=j.toArray(arguments);if(r.condition.apply(this,[r].concat(v))===false){return false}return t.apply(this,v)}}return r},addEvent:function(o,q,p){var r=(typeof p=="function")?j.parseEvent(q,p):p;r._pseudos.forEach(function(s){s.onAdd.call(o,s)});r.onAdd.call(o,r,r.listener);j.toArray(r.base).forEach(function(s){o.addEventListener(s,r.listener,j.captureEvents.indexOf(s)>-1)});return r.listener},addEvents:function(p,o){var q={};for(var r in o){q[r]=j.addEvent(p,r,o[r])}return q},removeEvent:function(o,q,p){var r=j.parseEvent(q);r.onRemove.call(o,r,p);j.removePseudos(o,r.type,p);j.toArray(r.base).forEach(function(s){o.removeEventListener(s,p)})},removeEvents:function(o,p){for(var q in p){j.removeEvent(o,q,p[q])}}};j.typeOf=m.register.__polyfill__.typeOf;j.clone=m.register.__polyfill__.clone;j.merge(j,m.register.__polyfill__);if(typeof define=="function"&&define.amd){define(j)}else{g.xtag=j}})();